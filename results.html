<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>分析结果：UBEM 知识图谱与热点</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans SC', 'Inter', sans-serif; background-color: #111827; color: #E5E7EB; } /* 深色模式背景 */
        .chart-container { position: relative; width: 100%; height: 400px; margin: 0 auto; }
        .nav-link { transition: all 0.2s; }
        .nav-link:hover { color: #2DD4BF; border-bottom-color: #2DD4BF; }
    </style>
    <!-- 设计思路：
         1. 风格：采用深色主题 (Dark Mode)，模拟 VOSviewer 和 CiteSpace 的高对比度科研软件界面。
         2. 结构：分为“热点突发检测”和“关键词网络”两个主要分析模块。
         3. 交互：用户可以点击不同的时间段或聚类来查看详细数据。
    -->
</head>
<body class="min-h-screen flex flex-col">

    <!-- 导航栏 (需保持与其他页面一致的跳转逻辑) -->
    <header class="bg-gray-900 border-b border-gray-700 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold text-white tracking-wide">UBEM 研究综述 <span class="text-teal-400">分析仪表板</span></h1>
            <nav class="space-x-6 text-sm font-medium">
                <!-- 注意：这里的 href 指向您的文件名 -->
                <a href="index.html" class="nav-link text-gray-400 border-b-2 border-transparent pb-1">返回研究方案</a>
                <a href="results.html" class="nav-link text-teal-400 border-b-2 border-teal-400 pb-1">可视化结果</a>
            </nav>
        </div>
    </header>

    <main class="flex-grow max-w-7xl mx-auto px-4 py-8 w-full space-y-12">

        <!-- 模块 1: 突发性检测 (Burst Detection) -->
        <section class="animate-fade-in">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-white mb-2">1. 研究热点漂移 (Burst Detection)</h2>
                <p class="text-gray-400 text-sm">模拟 CiteSpace 突发性检测结果，展示从“物理建模”向“碳中和”演变的四个阶段。</p>
            </div>
            
            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700 shadow-xl">
                <div class="chart-container">
                    <canvas id="burstChart"></canvas>
                </div>
                <div class="mt-4 grid grid-cols-4 gap-4 text-center text-xs text-gray-500">
                    <div class="border-t-4 border-blue-500 pt-2">第一阶段：几何基础</div>
                    <div class="border-t-4 border-orange-500 pt-2">第二阶段：物理模拟</div>
                    <div class="border-t-4 border-purple-500 pt-2">第三阶段：数据驱动</div>
                    <div class="border-t-4 border-teal-500 pt-2">第四阶段：碳中和</div>
                </div>
            </div>
        </section>

        <!-- 模块 2: 关键词共现网络 (Network Analysis) -->
        <section>
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-white mb-2">2. 关键词共现网络 (Co-occurrence)</h2>
                <p class="text-gray-400 text-sm">模拟 VOSviewer 聚类视图。点击下方图例可高亮显示特定聚类。</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- 左侧：图表 -->
                <div class="lg:col-span-2 bg-gray-800 rounded-xl p-6 border border-gray-700 shadow-xl">
                    <div class="chart-container">
                        <canvas id="networkChart"></canvas>
                    </div>
                </div>

                <!-- 右侧：详情面板 -->
                <div class="bg-gray-800 rounded-xl p-6 border border-gray-700 shadow-xl flex flex-col justify-center">
                    <h3 class="text-lg font-bold text-teal-400 mb-4 border-b border-gray-600 pb-2">聚类解读</h3>
                    <div class="space-y-4">
                        <div class="p-3 bg-gray-700 rounded hover:bg-gray-600 cursor-pointer transition border-l-4 border-green-500">
                            <h4 class="font-bold text-white text-sm">Cluster 1: 物理基石</h4>
                            <p class="text-xs text-gray-400 mt-1">核心词: EnergyPlus, CityGML, GIS</p>
                        </div>
                        <div class="p-3 bg-gray-700 rounded hover:bg-gray-600 cursor-pointer transition border-l-4 border-blue-500">
                            <h4 class="font-bold text-white text-sm">Cluster 2: 数据智能</h4>
                            <p class="text-xs text-gray-400 mt-1">核心词: Machine Learning, Calibration</p>
                        </div>
                        <div class="p-3 bg-gray-700 rounded hover:bg-gray-600 cursor-pointer transition border-l-4 border-red-500">
                            <h4 class="font-bold text-white text-sm">Cluster 3: 碳中和应用</h4>
                            <p class="text-xs text-gray-400 mt-1">核心词: Carbon Neutrality, Retrofit</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-900 text-gray-500 py-8 border-t border-gray-800 mt-8">
        <div class="max-w-7xl mx-auto px-4 text-center text-sm">
            <p>基于文献计量学数据的可视化模拟 | <a href="index.html" class="text-teal-500 hover:underline">返回主方案</a></p>
        </div>
    </footer>

    <!-- 图表逻辑 -->
    <script>
        // --- 1. Burst Chart (Gantt-style Bar Chart) ---
        const burstCtx = document.getElementById('burstChart').getContext('2d');
        new Chart(burstCtx, {
            type: 'bar',
            data: {
                // Y轴标签
                labels: ['CityGML', 'EnergyPlus', 'Calibration', 'Machine Learning', 'Urban Sensing', 'Digital Twin', 'Carbon Neutrality'],
                datasets: [{
                    label: '爆发持续时间',
                    // 数据格式: [开始年份, 结束年份] - 利用浮动条形图模拟甘特图
                    data: [
                        [2008, 2014], // CityGML
                        [2011, 2016], // EnergyPlus
                        [2013, 2018], // Calibration
                        [2017, 2022], // ML
                        [2019, 2024], // Urban Sensing
                        [2021, 2025], // Digital Twin
                        [2022, 2025]  // Carbon Neutrality
                    ],
                    backgroundColor: [
                        'rgba(59, 130, 246, 0.8)', // Blue
                        'rgba(249, 115, 22, 0.8)', // Orange
                        'rgba(249, 115, 22, 0.8)', // Orange
                        'rgba(168, 85, 247, 0.8)', // Purple
                        'rgba(168, 85, 247, 0.8)', // Purple
                        'rgba(20, 184, 166, 0.8)', // Teal
                        'rgba(20, 184, 166, 0.8)'  // Teal
                    ],
                    borderColor: 'rgba(255,255,255,0.1)',
                    borderWidth: 1,
                    barPercentage: 0.6
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            label: function(ctx) {
                                return `爆发期: ${ctx.raw[0]} - ${ctx.raw[1]}`;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        min: 2005,
                        max: 2026,
                        grid: { color: '#374151' },
                        ticks: { color: '#9CA3AF' }
                    },
                    y: {
                        grid: { display: false },
                        ticks: { color: '#E5E7EB', font: { weight: 'bold' } }
                    }
                }
            }
        });

        // --- 2. Network Chart (Bubble Chart Simulation) ---
        const netCtx = document.getElementById('networkChart').getContext('2d');
        new Chart(netCtx, {
            type: 'bubble',
            data: {
                datasets: [
                    {
                        label: '物理模型 (Cluster 1)',
                        data: [
                            {x: 20, y: 30, r: 25}, // EnergyPlus
                            {x: 15, y: 20, r: 15}, // CityGML
                            {x: 25, y: 25, r: 20}  // GIS
                        ],
                        backgroundColor: 'rgba(34, 197, 94, 0.7)', // Green
                        borderColor: 'rgb(34, 197, 94)'
                    },
                    {
                        label: '数据智能 (Cluster 2)',
                        data: [
                            {x: 50, y: 50, r: 30}, // Machine Learning
                            {x: 45, y: 40, r: 20}, // Calibration
                            {x: 55, y: 45, r: 15}  // Big Data
                        ],
                        backgroundColor: 'rgba(59, 130, 246, 0.7)', // Blue
                        borderColor: 'rgb(59, 130, 246)'
                    },
                    {
                        label: '碳应用 (Cluster 3)',
                        data: [
                            {x: 80, y: 30, r: 35}, // Carbon Neutrality
                            {x: 75, y: 20, r: 20}, // Retrofit
                            {x: 85, y: 25, r: 15}  // Policy
                        ],
                        backgroundColor: 'rgba(239, 68, 68, 0.7)', // Red
                        borderColor: 'rgb(239, 68, 68)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: '#E5E7EB' } },
                    tooltip: {
                        callbacks: {
                            label: function(ctx) {
                                return ctx.dataset.label;
                            }
                        }
                    }
                },
                scales: {
                    x: { display: false }, // Hide axes to simulate network graph look
                    y: { display: false }
                }
            }
        });
    </script>
</body>
</html>
